<!DOCTYPE html>
<html>
<head>
    <title>WebSocket Test</title>
</head>
<body>
    <h1>WebSocket Test </h1>
    <p>Check the browser's console for real-time updates.</p>

    <!-- à¹‚à¸«à¸¥à¸” client library à¸‚à¸­à¸‡ Socket.IO -->
    <script src="http://localhost:3001/socket.io/socket.io.js"></script>
    <script>
        // à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ WebSocket server à¸šà¸™à¸žà¸­à¸£à¹Œà¸• 3001
        const socket = io('http://localhost:3001');

        // à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­
        socket.on('connect', () => {
            console.log('âœ… Connected to WebSocket server');
        });

        // à¸Ÿà¸±à¸‡ event 'agentStatusChanged'
        socket.on('agentStatusChanged', (data) => {
            console.log('ðŸ”” Status changed:', data);
        });

         socket.emit('join', 'A123'); // à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡: à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡à¸«à¹‰à¸­à¸‡à¸‚à¸­à¸‡ Agent A123

        // à¸Ÿà¸±à¸‡ event 'newMessage'
        socket.on('newMessage', (data) => {
            console.log('âœ‰ï¸ New message:', data);
        });

      
        // à¸Ÿà¸±à¸‡ event à¸à¸²à¸£à¸•à¸±à¸”à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ (disconnect)
        socket.on('disconnect', () => {
            console.log('ðŸ”´ Disconnected from WebSocket server');
        });
    </script>
</body>
</html>
